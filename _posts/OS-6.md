---
title: 操作系统 - 死锁
date: 2021-03-02 13:44:28
categories: 
- OS
- 中断
tags: [OS,死锁]
keywords: [OS,死锁]
---

OS死锁及死锁处理相关总结
<!---more--->
## 死锁

一个阻塞的进程持有着资源A，不释放，同时另一个进程等待着资源A去执行；


## 死锁的必要条件

1. 互斥；资源一段时间内只能有一个进程使用；
2. 持有并等待；进程持有一个资源并等待其他进程持有的资源；
3. 无抢占；一个资源只能在完成后释放；
4. 循环等待：p0进程等p1，p1等p0；

## 死锁预防

打破上述四点。

1. 只允许使用非共享资源；
2. 开始前先分配所有资源，分配完成后才执行；
3. 允许抢占资源；
4. 对资源排序，按序申请资源

## 死锁避免

### 银行家算法

当新进程进入系统时，它必须说明其可能需要的每种类型资源实例的最大数量这一数量不可以超过系统资源的总和。当用户申请一组资源时，系统必须确定这些资源的分配是否处于安全状态，如果安全，则分配；如果不安全，那么进程必须等待指导某个其他进程释放足够资源为止。

算法简述：假设释放一个进程，然后再找一个能在剩余可用资源中完成请求的进程，重复操作。我们的目标是找一个安全序列，因此上述算法可能要尝试多次。只要能找到一个安全序列，那么系统就处于安全状态。