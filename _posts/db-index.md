---
title: 数据库 - 索引
date: 2021-02-27 18:44:28
categories: 
- 数据库
tags: [数据库]
keywords: [数据库]

---
索引相关。
<!---more--->

## 索引

MyISAM和InnoDB均采用b+树的索引结构。

### 为什么用b+树

查找一般是在有序的范围内用log2n的算法查找，所以一般用二叉搜索树结构。

每个树的节点都可能在磁盘某一个block上，我们要做的提高效率，就是减少磁盘读取block的次数。

但是二叉搜索树可能会不平衡，这时候引入AVL树（每个结点的左右子树的高度之差的绝对值最多为1）。

但是数据量大的时候，查找次数也会增加，不停地进行磁盘IO读取block。

所以要想办法让二叉树变得“矮胖”。

这时候引入了b树。

b树是个多路平衡查找树，和b+树不一样的地方在于，他在非叶子节点中也存储数据。

b+树则是把所有数据存储在叶子节点，非叶子节点只存储索引值。

- 好处：
1. 叶子节点之间有指针连接，方便范围查询和遍历；
2. b+树的节点只存储索引值，这样可以让每个节点多存储索引值，更好地控制b+树的高度，也就更好地减少磁盘IO。
3. 查询比较稳定，都需要查询到叶子节点中。


